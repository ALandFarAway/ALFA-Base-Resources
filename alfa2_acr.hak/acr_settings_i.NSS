////////////////////////////////////////////////////////////////////////////////
//
//  System Name : ALFA Core Rules
//     Filename : acr_settings_i.nss
//      Version : 1.0
//         Date : 2011-05-29
//       Author : Ronan
//
//  Local Variable Prefix = ACR_SET
//
//
//  Dependencies external of nwscript:
//  The server number MUST be set correctly.
//
//  Description
//  This script retreives various global ACR settings.
//
//  Revision History
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// Includes ////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// Constants ///////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

const string _ACR_SETTINGS_SERVER_ID = "ACR_SET_SID";
const string _ACR_SETTINGS_SERVER_NAME =  "ACR_SET_SNAME";
const string _ACR_SETTINGS_SERVER_REGION = "ACR_SET_SREGION";
const string _ACR_SETTINGS_SERVER_IP = "ACR_SET_IP";

////////////////////////////////////////////////////////////////////////////////
// Structures //////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// Global Variables ////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// Function Prototypes /////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

// Returns the server's id.
int ACR_GetServerId();

// Returns the server's name.
string ACR_GetServerName();

// Returns the server's region.
int ACR_GetServerRegion();

// Returns the server's ip.
string ACR_GetServerIp();

// Called OnModuleLoad to read from acf_settings_i.
void SetServerData(int nServerId, string sServerName, int nServerRegion, string sServerIp);

////////////////////////////////////////////////////////////////////////////////
// Function Definitions ////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

int ACR_GetServerId() { return GetGlobalInt(_ACR_SETTINGS_SERVER_ID); }

string ACR_GetServerName() { return GetGlobalString(_ACR_SETTINGS_SERVER_NAME); }

int ACR_GetServerRegion() { return GetGlobalInt(_ACR_SETTINGS_SERVER_REGION); }

// Shouldn't we be calling a NWNx function here?
string ACR_GetServerIp() { return GetGlobalString(_ACR_SETTINGS_SERVER_IP); }

void SetServerData(int nServerId, string sServerName, int nServerRegion, string sServerIp) {

	SetGlobalInt(_ACR_SETTINGS_SERVER_ID, nServerId);
	SetGlobalString(_ACR_SETTINGS_SERVER_NAME, sServerName);
	SetGlobalInt(_ACR_SETTINGS_SERVER_REGION, nServerRegion);
	SetGlobalString(_ACR_SETTINGS_SERVER_IP, sServerIp);
}