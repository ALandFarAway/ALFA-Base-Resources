////////////////////////////////////////////////////////////////////////////////
//
//  System Name : ABR Store Returns System
//     Filename : abr_trg_returnsonenter.nss
//    $Revision:: 1        $ current version of the file
//        $Date:: 2010-03-14#$ date the file was created or modified
//       Author : AcadiusLost
//
//  Local Variable Prefix =
//
//  Dependencies external of nwscript:
//
//  Description
//  This script initializes the returns bin system for ACR merchants.
//
//  Revision History
//  2009-02-01  AcadiusLost:  Inception
//  2009-02-09  AcadiusLost:  Added a LocalInt on the PC 
//  2010-03-14  AcadiusLost:  Fixed typo
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// Includes ////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

#include "acr_trigger_i"

////////////////////////////////////////////////////////////////////////////////
// Constants ///////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

// name of the pointer variable for tracking who is owed a refund on an item.
const string _ACR_RTN_POINTER = "ACR_RETURNS_POINTER";

// name of the Local String variable that identifies where the object was bought.
const string _ACR_RTN_MERCHANT = "ACR_RETURNS_MERCHANT";

////////////////////////////////////////////////////////////////////////////////
// Structures //////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// Global Variables ////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// Function Prototypes /////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

// The main event handler.
void main();

////////////////////////////////////////////////////////////////////////////////
// Function Definitions ////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

void main() {
    ACR_TriggerOnEnter();

    // Custom code goes here.
	object oPC = GetEnteringObject();
	// Set a pointer on the PC back to the trigger for later use.
	SetLocalObject(oPC, _ACR_RTN_POINTER, OBJECT_SELF);
	SetLocalInt(oPC, "ACR_RETURNS", TRUE);
	SendMessageToPC(oPC, "Entering store area: Items may be returned by placing them in the nearby Returns Bin.");

}