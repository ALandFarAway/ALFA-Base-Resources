////////////////////////////////////////////////////////////////////////////////
//
//  System Name : ALFA Quest System
//     Filename : acr_cs_has_item
//    $Revision:: 439        $ current version of the file
//        $Date:: 2007-10-31#$ date the file was created or modified
//       Author : Cipher
//
//  Description
//  This script determines if the pc speaker possesses an item.
//	This should be used in the Text Appears When branch of a conversation.
//
//  Revision History
//  2007/10/15  Cipher   Inception
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// Includes ////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
#include "acr_quest_i"

////////////////////////////////////////////////////////////////////////////////
// Constants ///////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// Structures //////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// Global Variables ////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// Function Prototypes /////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// Function Definitions ////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

int StartingConditional(string sTag, string sQuest)
{
	object oPC = GetPCSpeaker();

	// if this is a quest item, check for a local reference (performance optimization)
	if (sQuest != "")
	{
		// consider adding item tag to the variable name to support multi-item quests
		return (GetIsObjectValid(GetLocalObject(oPC, sQuest + sTag)));
	}
	// otherwise, check the player's inventory
	else
	{
		return (GetIsObjectValid(GetItemPossessedBy(oPC, sTag)));
	}
}
